<{math assign=mainGrid equation="9+(1-L)*(1-R)*3" L=$xoops_showlblock R=$xoops_showrblock}>
<div id="ContentWrapper" class="row">
<{if $xoops_showlblock==1||$xoops_showrblock==1}>
<div class="sideColumn span3">
<{if $xoops_showlblock == 1}>
  <aside id="LeftSide">
    <dl>
    <{foreach item=block from=$xoops_lblocks}>
      <{if substr($block.title,-4) != "none"}>
      <dt class="blockTitle"><{$block.title}></dt>
      <{/if}>
      <dd class="blockContent"><{$block.content}></dd>
    <{/foreach}>
    </dl>
  </aside><!-- LeftSide -->
<{/if}>

<{if $xoops_showrblock == 1}>
  <aside id="RightSide">
    <dl>
    <{foreach item=block from=$xoops_rblocks}>
      <{if substr($block.title,-4) != "none"}>
      <dt class="blockTitle"><{$block.title}></dt>
      <{/if}>
      <dd class="blockContent"><{$block.content}></dd>
    <{/foreach}>
    </dl>
  </aside><!-- RightSide -->
<{/if}>
</div><!-- SideColumn -->
<{/if}>
<div id="MainColumn" class="span<{$mainGrid}>">
<{if $xoops_contents}>
  <div id="Content" class="<{$xoops_dirname}>">
  <{$xoops_contents}>
  </div>
<{/if}>
  <{if $xoops_showcblock == 1}>
  <div class="row">
    <div id="CenterCColumn">
      <{foreach item=block from=$xoops_ccblocks}>
      <dl>
        <{if substr($block.title,-4) != "none"}>
        <dt class="blockTitle"><{$block.title}></dt>
        <{/if}>
        <dd class="blockContent"><{$block.content}></dd>
      </dl>
      <{/foreach}>
    </div><!-- CenterCColumn -->
  </div><!-- row -->
  <{/if}>

</div><!-- MainColumn -->
</div><!-- ContentWrapper -->
